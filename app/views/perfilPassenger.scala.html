@(usuario: controllers.Models.User, form: play.data.Form[controllers.Models.User])
@main("Carona") {
<!DOCTYPE html>
    <html lang="en">
        <head style="...">
            <meta charset="UTF-8">
            <title>Carona</title>
            <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/images.jpg")">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("bootstrap/css/bootstrap.min.css")">
            <script src="@routes.Assets.versioned("javascripts/jquery-1.12.3.min.js")" type="text/javascript"></script>
            <script src="@routes.Assets.versioned("bootstrap/js/bootstrap.min.js")" type="text/javascript"></script>
            <script type="text/css">
			.DESTINO:after{
			    background-color: #1b6d85 !important;
			}
			.vcenter {
			    display: inline-block;
			    vertical-align: middle;
			    float: none;
			}
		</script>
        </head>
        <body>
            <script language="JavaScript">
                    function vai(combo){
                        var x = combo.selectedIndex;
                        var endereco = combo.options[x].value;
                        window.location.href = "@routes.UserController.changeUser()"
                    }
            </script>
            <div class="page-header" style="text-align: center">
                <h1>Carona</h1>
            </div>
            <div style="background-color: #1b6d85">
                <div class="tab-content" style="background-color: #1b6d85; align-content: center; vertical-align: middle">
                    <div class="row" style="background-color: #1b6d85">
                        <div class="col-sm-6 col-md-4">
                            <div class="thumbnail" style="margin: 10px">
                                <img src="@routes.Assets.versioned("images/images.jpg")" alt="...">
                                <div class="caption">
                                    <h3> Passenger:  @usuario.getName()</h3>
                                </div>
                                <div>
                                    <select size="1" name="D1" onchange="vai(this);">
                                        <option value="/perfilDriver">Passenger</option>
                                        <option value="/perfilpassenger">Driver</option>
                                    </select>
                                </div>

                                <div class="caption" style="margin-top: 0px">
                                    <a href="/updateData">Update Data</a>
                                </div>
                                <div class="caption" style="margin-top: 0px">
                                    <a href="/logout">Logout</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6" style="margin-top: 10px">
                            <ul class="nav nav-tabs" style="background-color: #5bc0de">
                                <li class="active"><a data-toggle="tab" href="#DESTINO" id="destino-tab" style="background-color: #5bc0de">Going to</a></li>
                                <li><a data-toggle="tab" href="#RETORNO" id="retorno-tab">Returning to</a></li>
                            </ul>
                            <div class="row">
                                <h1 style="color: #000000">Available Caronas:</h1>
                            </div>
                            <div id="DESTINO" class="row tab-pane" style="background-color: #1b6d85">
                                <ul class="list-group">
                                @for(solicitationsIndex <- 0 to (usuario.getAvaliableCaronas.size() -1)){
                                    <li class="list-group-item" name="linha">
                                        <div class="solicitation" name="solicitationsIndex">
                                            <div><img  style="width: 50px; height: 50px;display: block; float:left; margin:10px" src="@routes.Assets.versioned("images/images.jpg")" alt="..."></div>
                                            <div style="float: left">
                                                <ul class="list-group" style="display: inline; list-style-type:none;">
                                                    <li><div style="margin-left:10px; float: left">Name: @usuario.getAvaliableCaronas.get(solicitationsIndex).getStartingDistrict()</div></li>
                                                    <li><div style="margin-left:10px; float: left">Location: @usuario.getAvaliableCaronas.get(solicitationsIndex).getStartingRoad()</div></li>
                                                    <li><div style="margin-left:10px; float: left">Horário: @usuario.getAvaliableCaronas.get(solicitationsIndex).getArrivalDistrict()</div></li>
                                                </ul>
                                            </div>
                                            <div style="float: right;">
                                                <button class="btn btn-success accept-solicitation" data-solicitation-id= "@solicitationsIndex"><i class="glyphicon glyphicon-ok"></i></button>
                                                <button class="btn btn-danger reject-solicitation" data-solicitation-id= "@solicitationsIndex"><i class="glyphicon glyphicon-remove"></i></button>
                                            </div>
                                            <div style="clear: both;"></div>
                                        </div>
                                    </li>
                                }
                                </ul>
                            </div>
                            <div id="RETORNO" class="row tab-pane" style="background-color: #1b6d85; display: none;">
                                <ul class="list-group">
                                @for(solicitationsIndex <- 0 to (usuario.getAvaliableCaronas.size() -1)){
                                    <li class="list-group-item" name="linha">
                                        <div class="solicitation" name="solicitationsIndex">
                                            <div><img  style="width: 50px; height: 50px;display: block; float:left; margin:10px" src="@routes.Assets.versioned("images/images.jpg")" alt="..."></div>
                                            <div style="float: left">
                                                <ul class="list-group" style="display: inline; list-style-type:none;">
                                                    <li><div style="margin-left:10px; float: left">Name: @usuario.getAvaliableCaronas.get(solicitationsIndex).getStartingDistrict()</div></li>
                                                    <li><div style="margin-left:10px; float: left">Location: @usuario.getAvaliableCaronas.get(solicitationsIndex).getStartingRoad()</div></li>
                                                    <li><div style="margin-left:10px; float: left">Horário: @usuario.getAvaliableCaronas.get(solicitationsIndex).getArrivalDistrict()</div></li>
                                                </ul>
                                            </div>
                                            <div style="float: right;">
                                                <button class="btn btn-success accept-solicitation" data-solicitation-id= "@solicitationsIndex"><i class="glyphicon glyphicon-ok"></i></button>
                                                <button class="btn btn-danger reject-solicitation" data-solicitation-id= "@solicitationsIndex"><i class="glyphicon glyphicon-remove"></i></button>
                                            </div>
                                            <div style="clear: both;"></div>
                                        </div>
                                    </li>
                                }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="well well-lg" style="text-align: center; vertical-align: bottom">
                Authored by: Caio, Carlos, Izabella, Jefferson and Yago *All rights reservated
            </footer>
            <script>
                $(function() {
                    $("#destino-tab").click(function() {
                        $("#RETORNO").hide();
                        $("#DESTINO").fadeIn();
                    });
                    $("#retorno-tab").click(function() {
                        $("#DESTINO").hide();
                        $("#RETORNO").fadeIn();
                    });
                    $(".accept-solicitation").click(function() {
                        var id = $(this).data("solicitation-id");
                        var self = $(this);
                        $.ajax({
                            url: "/carona/askForDriver/" + id,
                            type: "POST"
                        }).done(function(result) {
                            self.parent().parent().parent().addClass("alert alert-success");
                            self.parent().parent().parent().css("background-color", "#dff0d8");
                            self.parent().remove();
                        });
                    });
                    $(".reject-solicitation").click(function() {
                        var id = $(this).data("solicitation-id");
                        var self = $(this);
                        $.ajax({
                            url: "/carona/reject/" + id,
                            type: "DELETE"
                        }).done(function(result) {
                            self.parent().parent().parent().addClass("alert alert-danger");
                            self.parent().parent().parent().css("background-color", "#dca7a7");
                            self.parent().remove();
                        });
                    });
                })
            </script>
        </body>
    </html>
}